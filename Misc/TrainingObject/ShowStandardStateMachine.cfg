LoggerAddress = "localhost"
+WEB = {
    Class = HttpGCRCBrowser
    AddReference = {StateMachine}
}
+HTTPSERVER = {
    Class = HttpService
    Port = 8084
    VerboseLevel = 10
    Root = WEB
}
+StateMachine = {
    Class = StateMachine
    VerboseLevel = 10
    +INITIAL = {
        Class = StateMachineState
        StateCode = 0x0
        +START = {
            Class = StateMachineEvent
            NextState = IDLE
            Value = START
            +STARTALL = {
                Class = MessageDeliveryRequest
                Sender = StateMachine
                Destinations = "HTTPSERVER CODAS MARTe MS"
                MsecTimeOut = 1000
                Flags = NoReply
                Message = {
                    Class = Message
                    Content = START
                }
            }
            +REQ_LEVEL1 = {
                Class = MessageEnvelope
                Destination = CODAS.LEVEL1
                +MESSAGE = {
                    Class = Message
                    Content = REQUEST
                }
            }
            +SETUP_RTL = {
                Class = MessageEnvelope
                Destination = CODAS.RTL
                +MESSAGE = {
                    Class = Message
                    Content = AUTODETECT
                }
            }
        }
    }
    +IDLE = {
        Class = StateMachineState
        StateCode = 0x500
        +PULSE_SETUP_COMPLETED = {
            Class = StateMachineEvent
            Code = 0x701
            NextState = WAITING_FOR_PRE
            +NOTIFY = {
                Class = MessageEnvelope
                Sender = StateMachine
                Destination = MARTe
                +MESSAGE = {
                    Class = Message
                    Content = PREPULSECHECK
                }
            }
            +UPDATE_GAP = {
                Class = MessageEnvelope
                Destination = CODAS.GAP
                +MESSAGE = {
                    Class = Message
                    Content = AUTODETECT
                }
            }
            +CLEAR_RTL = {
                Class = MessageEnvelope
                Destination = CODAS.RTL
                +MESSAGE = {
                    Class = Message
                    Content = NEWPULSE
                }
            }
            +UPDATE_HTTP_SIGNAL_SERVER = {
                Class = MessageEnvelope
                Destination = HTTPSignalServer
                +MESSAGE = {
                    Class = Message
                    Content = AUTODETECT
                }
            }
            +UPDATE_MATLAB_SIGNAL_SERVER = {
                Class = MessageEnvelope
                Destination = MATLABSupport
                +MESSAGE = {
                    Class = Message
                    Content = AUTODETECT
                }
            }
        }
        +INHIBIT = {
            Class = StateMachineEvent
            Code = 0x704
            NextState = INHIBIT
        }
        +ACTIVATE = {
            Class = StateMachineEvent
            Code = 0x705
            NextState = SAMESTATE
        }
        +UNRECOVERABLE = {
            Class = StateMachineEvent
            Code = 0x776
            NextState = UNRECOVERABLE
        }
        +CONFIG_ERROR = {
            Class = StateMachineEvent
            Code = 0x777
            NextState = CONFIG_ERROR
        }
        +CONFIG_OK = {
            Class = StateMachineEvent
            Code = 0x778
            NextState = SAMESTATE
            +NOTIFY = {
                Class = MessageEnvelope
                Sender = StateMachine
                Destination = CODAS.SMH
                +SENDSTATE = {
                    Class = Message
                    Code = 0x500
                }
            }
        }
        +STOP = {
            Class = StateMachineEvent
            NextState = IDLE
            Value = STOP
            +STOPALL = {
                Class = MessageDeliveryRequest
                Sender = StateMachine
                Destinations = "HTTPSERVER CODAS MARTe"
                MsecTimeOut = 1000
                Flags = NoReply
                Message = {
                    Class = Message
                    Content = STOP
                }
            }
        }
        +L1_EVT_STATE = {
            Class = StateMachineEvent
            Code = 0x888
            NextState = SAMESTATE
            +REQ_LEVEL1 = {
                Class = MessageEnvelope
                Destination = CODAS.LEVEL1
                +MESSAGE = {
                    Class = Message
                    Content = REQUEST
                }
            }
        }
    }
    +WAITING_FOR_PRE = {
        Class = StateMachineState
        StateCode = 0x504
        +PRE = {
            Class = StateMachineEvent
            Code = 0x708
            NextState = PULSING
            +NOTIFY = {
                Class = MessageEnvelope
                Sender = StateMachine
                Destination = MARTe
                +MESSAGE = {
                    Class = Message
                    Content = PULSESTART
                }
            }
        }
        +ABORT = {
            Class = StateMachineEvent
            Code = 0x702
            NextState = IDLE
            +NOTIFY = {
                Class = MessageEnvelope
                Sender = StateMachine
                Destination = MARTe
                +MESSAGE = {
                    Class = Message
                    Content = PULSESTOP
                }
            }
        }
        +COLLECTION_COMPLETED = {
            Class = StateMachineEvent
            Code = 0x703
            NextState = COMM_ERROR
        }
    }
    +PULSING = {
        Class = StateMachineState
        StateCode = 0x505
        +ENTER = {
            Class = MessageEnvelope
            Destination = CODAS.SMH
            +SENDSTATE = {
                Class = Message
            }
        }
        +EJP = {
            Class = StateMachineEvent
            Code = 0x709
            NextState = POST_PULSE
            +NOTIFY = {
                Class = MessageEnvelope
                Sender = StateMachine
                Destination = MARTe
                +MESSAGE = {
                    Class = Message
                    Content = PULSESTOP
                }
            }
        }
        +ABORT = {
            Class = StateMachineEvent
            Code = 0x702
            NextState = IDLE
            +NOTIFY = {
                Class = MessageEnvelope
                Sender = StateMachine
                Destination = MARTe
                +MESSAGE = {
                    Class = Message
                    Content = PULSESTOP
                }
            }
        }
    }
    +POST_PULSE = {
        Class = StateMachineState
        StateCode = 0x507
        +ENTER = {
            Class = MessageEnvelope
            Destination = CODAS.SMH
            +SENDSTATE = {
                Class = Message
            }
        }
        +COLLECTION_COMPLETED = {
            Class = StateMachineEvent
            Code = 0x703
            NextState = IDLE
            +NOTIFY = {
                Class = MessageEnvelope
                Sender = StateMachine
                Destination = MARTe
                +MESSAGE = {
                    Class = Message
                    Content = COLLECTIONCOMPLETED
                }
            }
            +STORE_RTL = {
                Class = MessageEnvelope
                Destination = CODAS.RTL
                +MESSAGE = {
                    Class = Message
                    Content = STOREDATA
                }
            }
        }
    }
    +INHIBIT = {
        Class = StateMachineState
        StateCode = 0x508
        +ACTIVATE = {
            Class = StateMachineEvent
            Code = 0x705
            NextState = IDLE
        }
    }
    +ERROR = {
        Class = StateMachineState
        StateCode = 0x601
        +ACTIVATE = {
            Class = StateMachineEvent
            Code = 0x705
            NextState = IDLE
        }
        +COLLECTION_COMPLETED = {
            Class = StateMachineEvent
            Code = 0x703
            NextState = IDLE
        }
    }
    +CONFIG_ERROR = {
        Class = StateMachineState
        StateCode = 0x640
        +ENTER = {
            Class = MessageEnvelope
            Destination = CODAS.SMH
            +SENDSTATE = {
                Class = Message
            }
        }
        +ACTIVATE = {
            Class = StateMachineEvent
            Code = 0x705
            NextState = IDLE
        }
        +CONFIG_OK = {
            Class = StateMachineEvent
            Code = 0x778
            NextState = IDLE
            +NOTIFY = {
                Class = MessageEnvelope
                Sender = StateMachine
                Destination = CODAS.SMH
                +SENDSTATE = {
                    Class = Message
                    Code = 0x500
                }
            }
        }
        +CONFIG_ERROR = {
            Class = StateMachineEvent
            Code = 0x777
            NextState = CONFIG_ERROR
        }
    }
    +UNRECOVERABLE = {
        Class = StateMachineState
        StateCode = 0x601
        +DEFAULT = {
            Class = StateMachineEvent
            Code = 0
            NextState = SAMESTATE
        }
    }
    +COMM_ERROR = {
        StateCode = 0x601
        Class = StateMachineState
        +ABORT = {
            Class = StateMachineEvent
            Code = 0x702
            NextState = SAMESTATE
        }
    }
    +DEFAULT = {
        Class = StateMachineState
        StateCode = 0x601
        +PRE = {
            Class = StateMachineEvent
            Code = 0x708
            NextState = SAMESTATE
        }
        +EJP = {
            Class = StateMachineEvent
            Code = 0x709
            NextState = SAMESTATE
        }
        +ABORT = {
            Class = StateMachineEvent
            Code = 0x702
            NextState = IDLE
        }
    }
}
